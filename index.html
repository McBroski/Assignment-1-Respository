<!DOCTYPE html>
<html>
  <title>Index - Assignment 1</title>
  <h1>This is the index HTML</h1>
  <body>
    <p>I am just testing to see whether this works</p>
  </body>
</html>

<div id="toolbar-container">
  <button class="ql-bold"></button>
  <button class="ql-italic"></button>
  <button id="custom-button">C</button>
</div>
<div id="editor-container"></div>
var quill = new Quill('#editor-container', {  
  modules: {
    toolbar: '#toolbar-container'
  },
  placeholder: 'Compose an epic...',
  theme: 'snow' // or 'bubble'
});

var Parchment = Quill.import("parchment");

let CustomClass = new Parchment.Attributor.Class('custom', 'ql-custom', {
  scope: Parchment.Scope.INLINE
});

Quill.register(CustomClass, true);

var customButton = document.querySelector('#custom-button');
customButton.addEventListener('click', function() {
  var format = quill.getFormat();
  if(format.custom) {
    quill.format('custom', '');
  } else {
    quill.format('custom', 'test');
  }
});

quill.on('editor-change', function(eventName, ...args) {
  if(quill.getFormat().custom) {
    customButton.classList.add('ql-active');
  } else {
    customButton.classList.remove('ql-active');
  }
});
